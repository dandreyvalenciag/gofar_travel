CREATE TABLE VEHICULOS
(VIN NUMBER NOT NULL PRIMARY KEY, NOMBRE VARCHAR2(50), MODELO_ID NUMBER, AÑO CHAR(4),
FABRICANTE_ID NUMBER, COSTO_COMPRA NUMBER(20,2), ESTADO VARCHAR2(50),
CONSTRAINT FK_FABRICANTE_VEHICULO FOREIGN KEY(FABRICANTE_ID) REFERENCES FABRICANTES(ID_FABRICANTE),
CONSTRAINT FK_MODELO_VEHICULO FOREIGN KEY(MODELO_ID) REFERENCES MODELOS(ID_MODELO));

CREATE TABLE FABRICANTES
(ID_FABRICANTE NUMBER NOT NULL PRIMARY KEY, NOMBRE_FABRICANTE VARCHAR2(50));

CREATE TABLE MODELOS
(ID_MODELO NUMBER NOT NULL PRIMARY KEY, NOMBRE_MODELO VARCHAR2(50));

CREATE TABLE OPCIONES
(ID_OPCION NUMBER NOT NULL PRIMARY KEY, DESCRIPCION VARCHAR2(60),
COSTO_FABRICANTE NUMBER(20,2), PRECIO_VENTA_OPC NUMBER(20,2));

CREATE TABLE FACTURAS
(ID_FACTURA NUMBER NOT NULL PRIMARY KEY, FECHA_FACTURA DATE, CLIENTE_ID NUMBER,
VEHICULO_ID NUMBER, VENDEDOR_ID NUMBER, PRECIO_VENTA_VEHICULO NUMBER(20,2), 
VALOR_ACEPTADO NUMBER(20,2), IMPUESTO NUMBER(3), LICENCIA_MATRICULA VARCHAR2(50),
OTRAS_CONDICIONES VARCHAR2(50),
CONSTRAINT FK_CLIENTE_FACTURA FOREIGN KEY(CLIENTE_ID) REFERENCES CLIENTES(ID_CLIENTE),
CONSTRAINT FK_VEHICULO_FACTURA FOREIGN KEY(VEHICULO_ID) REFERENCES VEHICULOS(VIN),
CONSTRAINT FK_VENDEDOR_FACTURA FOREIGN KEY(VENDEDOR_ID) REFERENCES VENDEDORES(ID_VENDEDOR));

CREATE TABLE CLIENTES
(ID_CLIENTE NUMBER NOT NULL PRIMARY KEY, NOMBRE VARCHAR2(50), APELLIDO VARCHAR2(50),
DIRECCION VARCHAR2(50), CELULAR VARCHAR2(50));

CREATE TABLE VENDEDORES
(ID_VENDEDOR NUMBER NOT NULL PRIMARY KEY, NOMBRE VARCHAR2(50), APELLIDO VARCHAR2(50), 
CELULAR VARCHAR2(50), DIRECCION VARCHAR2(50));

CREATE TABLE OPCIONES_VENTAS
(ID_OPCION_VENTA NUMBER NOT NULL PRIMARY KEY, FACTURA_ID NUMBER, OPCION_ID NUMBER, 
CONSTRAINT FK_FACTURA_OPCIONVENTA FOREIGN KEY(FACTURA_ID) REFERENCES FACTURAS(ID_FACTURA),
CONSTRAINT FK_OPCION_OPCIONVENTA FOREIGN KEY(OPCION_ID) REFERENCES OPCIONES(ID_OPCION));

CREATE SEQUENCE VEHICULOS_SEQ
START WITH 20000
INCREMENT BY 1 
NOCACHE
NOCYCLE;

CREATE SEQUENCE FABRICANTES_SEQ
START WITH 30000
INCREMENT BY 1 
NOCACHE
NOCYCLE;

CREATE SEQUENCE MODELOS_SEQ
START WITH 400
INCREMENT BY 1 
NOCACHE
NOCYCLE;

CREATE SEQUENCE OPCIONES_SEQ
START WITH 800
INCREMENT BY 1 
NOCACHE
NOCYCLE;

CREATE SEQUENCE FACTURAS_SEQ
START WITH 51000
INCREMENT BY 1 
NOCACHE
NOCYCLE;

CREATE SEQUENCE CLIENTES_SEQ
START WITH 1
INCREMENT BY 1 
NOCACHE
NOCYCLE;

CREATE SEQUENCE VENDEDORES_SEQ
START WITH 100
INCREMENT BY 1 
NOCACHE
NOCYCLE;

CREATE SEQUENCE OPCIONES_VENTAS_SEQ
START WITH 700
INCREMENT BY 1 
NOCACHE
NOCYCLE;

ALTER TABLE OPCIONES
ADD (FABRICANTE_ID NUMBER,
CONSTRAINT FK_FABRICANTE_OPCIONES FOREIGN KEY(FABRICANTE_ID) REFERENCES FABRICANTES(ID_FABRICANTE));